import{j as P,l as p,m as fe}from"./main-BY6zBPaV.js";import{c as he,a as N,b as pe,B as me}from"./button-Dd4QEbrQ.js";import"./clsx-B-dksMZM.js";var ge=Object.defineProperty,ye=Object.defineProperties,ve=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,be=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,Q=(e,t,r)=>t in e?ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_=(e,t)=>{for(var r in t||(t={}))be.call(t,r)&&Q(e,r,t[r]);if(G)for(var r of G(t))we.call(t,r)&&Q(e,r,t[r]);return e},R=(e,t)=>ye(e,ve(t)),xe=class extends Error{constructor(e,t,r){super(t||e.toString(),{cause:r}),this.status=e,this.statusText=t,this.error=r}},_e=async(e,t)=>{var r,n,s,o,a,d;let u=t||{};const i={onRequest:[t?.onRequest],onResponse:[t?.onResponse],onSuccess:[t?.onSuccess],onError:[t?.onError],onRetry:[t?.onRetry]};if(!t||!t?.plugins)return{url:e,options:u,hooks:i};for(const l of t?.plugins||[]){if(l.init){const f=await((r=l.init)==null?void 0:r.call(l,e.toString(),t));u=f.options||u,e=f.url}i.onRequest.push((n=l.hooks)==null?void 0:n.onRequest),i.onResponse.push((s=l.hooks)==null?void 0:s.onResponse),i.onSuccess.push((o=l.hooks)==null?void 0:o.onSuccess),i.onError.push((a=l.hooks)==null?void 0:a.onError),i.onRetry.push((d=l.hooks)==null?void 0:d.onRetry)}return{url:e,options:u,hooks:i}},z=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(){return this.options.delay}},Se=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(e){return Math.min(this.options.maxDelay,this.options.baseDelay*2**e)}};function Re(e){if(typeof e=="number")return new z({type:"linear",attempts:e,delay:1e3});switch(e.type){case"linear":return new z(e);case"exponential":return new Se(e);default:throw new Error("Invalid retry strategy")}}var Pe=async e=>{const t={},r=async n=>typeof n=="function"?await n():n;if(e?.auth){if(e.auth.type==="Bearer"){const n=await r(e.auth.token);if(!n)return t;t.authorization=`Bearer ${n}`}else if(e.auth.type==="Basic"){const n=r(e.auth.username),s=r(e.auth.password);if(!n||!s)return t;t.authorization=`Basic ${btoa(`${n}:${s}`)}`}else if(e.auth.type==="Custom"){const n=r(e.auth.value);if(!n)return t;t.authorization=`${r(e.auth.prefix)} ${n}`}}return t},Te=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Ee(e){const t=e.headers.get("content-type"),r=new Set(["image/svg","application/xml","application/xhtml","application/html"]);if(!t)return"json";const n=t.split(";").shift()||"";return Te.test(n)?"json":r.has(n)||n.startsWith("text/")?"text":"blob"}function Oe(e){try{return JSON.parse(e),!0}catch{return!1}}function se(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}function X(e){try{return JSON.parse(e)}catch{return e}}function Y(e){return typeof e=="function"}function Ne(e){if(e?.customFetchImpl)return e.customFetchImpl;if(typeof globalThis<"u"&&Y(globalThis.fetch))return globalThis.fetch;if(typeof window<"u"&&Y(window.fetch))return window.fetch;throw new Error("No fetch implementation found")}async function Ue(e){const t=new Headers(e?.headers),r=await Pe(e);for(const[n,s]of Object.entries(r||{}))t.set(n,s);if(!t.has("content-type")){const n=Le(e?.body);n&&t.set("content-type",n)}return t}function Le(e){return se(e)?"application/json":null}function je(e){if(!e?.body)return null;const t=new Headers(e?.headers);if(se(e.body)&&!t.has("content-type")){for(const[r,n]of Object.entries(e?.body))n instanceof Date&&(e.body[r]=n.toISOString());return JSON.stringify(e.body)}return e.body}function Ae(e,t){var r;if(t?.method)return t.method.toUpperCase();if(e.startsWith("@")){const n=(r=e.split("@")[1])==null?void 0:r.split("/")[0];return oe.includes(n)?n.toUpperCase():t?.body?"POST":"GET"}return t?.body?"POST":"GET"}function Ie(e,t){let r;return!e?.signal&&e?.timeout&&(r=setTimeout(()=>t?.abort(),e?.timeout)),{abortTimeout:r,clearTimeout:()=>{r&&clearTimeout(r)}}}var ke=class ae extends Error{constructor(t,r){super(r||JSON.stringify(t,null,2)),this.issues=t,Object.setPrototypeOf(this,ae.prototype)}};async function D(e,t){let r=await e["~standard"].validate(t);if(r.issues)throw new ke(r.issues);return r.value}var oe=["get","post","put","patch","delete"],qe=e=>({id:"apply-schema",name:"Apply Schema",version:"1.0.0",async init(t,r){var n,s,o,a;const d=((s=(n=e.plugins)==null?void 0:n.find(u=>{var i;return(i=u.schema)!=null&&i.config?t.startsWith(u.schema.config.baseURL||"")||t.startsWith(u.schema.config.prefix||""):!1}))==null?void 0:s.schema)||e.schema;if(d){let u=t;(o=d.config)!=null&&o.prefix&&u.startsWith(d.config.prefix)&&(u=u.replace(d.config.prefix,""),d.config.baseURL&&(t=t.replace(d.config.prefix,d.config.baseURL))),(a=d.config)!=null&&a.baseURL&&u.startsWith(d.config.baseURL)&&(u=u.replace(d.config.baseURL,""));const i=d.schema[u];if(i){let l=R(_({},r),{method:i.method,output:i.output});return r?.disableValidation||(l=R(_({},l),{body:i.input?await D(i.input,r?.body):r?.body,params:i.params?await D(i.params,r?.params):r?.params,query:i.query?await D(i.query,r?.query):r?.query})),{url:t,options:l}}}return{url:t,options:r}}}),Ce=e=>{async function t(r,n){const s=R(_(_({},e),n),{plugins:[...e?.plugins||[],qe(e||{})]});if(e?.catchAllError)try{return await W(r,s)}catch(o){return{data:null,error:{status:500,statusText:"Fetch Error",message:"Fetch related error. Captured by catchAllError option. See error property for more details.",error:o}}}return await W(r,s)}return t};function Fe(e,t){let{baseURL:r,params:n,query:s}=t||{query:{},params:{},baseURL:""},o=e.startsWith("http")?e.split("/").slice(0,3).join("/"):r||"";if(e.startsWith("@")){const f=e.toString().split("@")[1].split("/")[0];oe.includes(f)&&(e=e.replace(`@${f}/`,"/"))}o.endsWith("/")||(o+="/");let[a,d]=e.replace(o,"").split("?");const u=new URLSearchParams(d);for(const[f,h]of Object.entries(s||{}))h!=null&&u.set(f,String(h));if(n)if(Array.isArray(n)){const f=a.split("/").filter(h=>h.startsWith(":"));for(const[h,S]of f.entries()){const v=n[h];a=a.replace(S,v)}}else for(const[f,h]of Object.entries(n))a=a.replace(`:${f}`,String(h));a=a.split("/").map(encodeURIComponent).join("/"),a.startsWith("/")&&(a=a.slice(1));let i=u.toString();return i=i.length>0?`?${i}`.replace(/\+/g,"%20"):"",o.startsWith("http")?new URL(`${a}${i}`,o):`${o}${a}${i}`}var W=async(e,t)=>{var r,n,s,o,a,d,u,i;const{hooks:l,url:f,options:h}=await _e(e,t),S=Ne(h),v=new AbortController,b=(r=h.signal)!=null?r:v.signal,y=Fe(f,h),j=je(h),U=await Ue(h),T=Ae(f,h);let c=R(_({},h),{url:y,headers:U,body:j,method:T,signal:b});for(const w of l.onRequest)if(w){const g=await w(c);g instanceof Object&&(c=g)}("pipeTo"in c&&typeof c.pipeTo=="function"||typeof((n=t?.body)==null?void 0:n.pipe)=="function")&&("duplex"in c||(c.duplex="half"));const{clearTimeout:I}=Ie(h,v);let m=await S(c.url,c);I();const J={response:m,request:c};for(const w of l.onResponse)if(w){const g=await w(R(_({},J),{response:(s=t?.hookOptions)!=null&&s.cloneResponse?m.clone():m}));g instanceof Response?m=g:g instanceof Object&&(m=g.response)}if(m.ok){if(!(c.method!=="HEAD"))return{data:"",error:null};const g=Ee(m),E={data:"",response:m,request:c};if(g==="json"||g==="text"){const O=await m.text(),de=await((o=c.jsonParser)!=null?o:X)(O);E.data=de}else E.data=await m[g]();c?.output&&c.output&&!c.disableValidation&&(E.data=await D(c.output,E.data));for(const O of l.onSuccess)O&&await O(R(_({},E),{response:(a=t?.hookOptions)!=null&&a.cloneResponse?m.clone():m}));return t?.throw?E.data:{data:E.data,error:null}}const ue=(d=t?.jsonParser)!=null?d:X,q=await m.text(),H=Oe(q),B=H?await ue(q):null,ce={response:m,responseText:q,request:c,error:R(_({},B),{status:m.status,statusText:m.statusText})};for(const w of l.onError)w&&await w(R(_({},ce),{response:(u=t?.hookOptions)!=null&&u.cloneResponse?m.clone():m}));if(t?.retry){const w=Re(t.retry),g=(i=t.retryAttempt)!=null?i:0;if(await w.shouldAttemptRetry(g,m)){for(const O of l.onRetry)O&&await O(J);const E=w.getDelay(g);return await new Promise(O=>setTimeout(O,E)),await W(e,R(_({},t),{retryAttempt:g+1}))}}if(t?.throw)throw new xe(m.status,m.statusText,H?B:q);return{data:null,error:R(_({},B),{status:m.status,statusText:m.statusText})}},Me={};const $=Object.create(null),k=e=>Me||globalThis.Deno?.env.toObject()||globalThis.__env__||(e?$:globalThis),A=new Proxy($,{get(e,t){return k()[t]??$[t]},has(e,t){const r=k();return t in r||t in $},set(e,t,r){const n=k(!0);return n[t]=r,!0},deleteProperty(e,t){if(!t)return!1;const r=k(!0);return delete r[t],!0},ownKeys(){const e=k(!0);return Object.keys(e)}});class De extends Error{constructor(t,r){super(t),this.name="BetterAuthError",this.message=t,this.cause=r,this.stack=""}}function $e(e){try{return(new URL(e).pathname.replace(/\/+$/,"")||"/")!=="/"}catch{throw new De(`Invalid base URL: ${e}. Please provide a valid base URL.`)}}function V(e,t="/api/auth"){if($e(e))return e;const n=e.replace(/\/+$/,"");return!t||t==="/"?n:(t=t.startsWith("/")?t:`/${t}`,`${n}${t}`)}function Be(e,t,r,n){if(e)return V(e,t);{const s=A.BETTER_AUTH_URL||A.NEXT_PUBLIC_BETTER_AUTH_URL||A.PUBLIC_BETTER_AUTH_URL||A.NUXT_PUBLIC_BETTER_AUTH_URL||A.NUXT_PUBLIC_AUTH_URL||(A.BASE_URL!=="/"?A.BASE_URL:void 0);if(s)return V(s,t)}if(typeof window<"u"&&window.location)return V(window.location.origin,t)}let x=[],L=0;const C=4;let ie=e=>{let t=[],r={get(){return r.lc||r.listen(()=>{})(),r.value},lc:0,listen(n){return r.lc=t.push(n),()=>{for(let o=L+C;o<x.length;)x[o]===n?x.splice(o,C):o+=C;let s=t.indexOf(n);~s&&(t.splice(s,1),--r.lc||r.off())}},notify(n,s){let o=!x.length;for(let a of t)x.push(a,r.value,n,s);if(o){for(L=0;L<x.length;L+=C)x[L](x[L+1],x[L+2],x[L+3]);x.length=0}},off(){},set(n){let s=r.value;s!==n&&(r.value=n,r.notify(s))},subscribe(n){let s=r.listen(n);return n(r.value),s},value:e};return r};const Ve=5,F=6,M=10;let We=(e,t,r,n)=>(e.events=e.events||{},e.events[r+M]||(e.events[r+M]=n(s=>{e.events[r].reduceRight((o,a)=>(a(o),o),{shared:{},...s})})),e.events[r]=e.events[r]||[],e.events[r].push(t),()=>{let s=e.events[r],o=s.indexOf(t);s.splice(o,1),s.length||(delete e.events[r],e.events[r+M](),delete e.events[r+M])}),Je=1e3,He=(e,t)=>We(e,n=>{let s=t(n);s&&e.events[F].push(s)},Ve,n=>{let s=e.listen;e.listen=(...a)=>(!e.lc&&!e.active&&(e.active=!0,n()),s(...a));let o=e.off;return e.events[F]=[],e.off=()=>{o(),setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let a of e.events[F])a();e.events[F]=[]}},Je)},()=>{e.listen=s,e.off=o}});function Ge(e,t,r){let n=new Set(t).add(void 0);return e.listen((s,o,a)=>{n.has(a)&&r(s,o,a)})}const Qe=typeof window>"u",ze=(e,t,r,n)=>{const s=ie({data:null,error:null,isPending:!0,isRefetching:!1,refetch:d=>o(d)}),o=d=>{const u=typeof n=="function"?n({data:s.get().data,error:s.get().error,isPending:s.get().isPending}):n;r(t,{...u,query:{...u?.query,...d?.query},async onSuccess(i){s.set({data:i.data,error:null,isPending:!1,isRefetching:!1,refetch:s.value.refetch}),await u?.onSuccess?.(i)},async onError(i){const{request:l}=i,f=typeof l.retry=="number"?l.retry:l.retry?.attempts,h=l.retryAttempt||0;f&&h<f||(s.set({error:i.error,data:null,isPending:!1,isRefetching:!1,refetch:s.value.refetch}),await u?.onError?.(i))},async onRequest(i){const l=s.get();s.set({isPending:l.data===null,data:l.data,error:null,isRefetching:!0,refetch:s.value.refetch}),await u?.onRequest?.(i)}}).catch(i=>{s.set({error:i,data:null,isPending:!1,isRefetching:!1,refetch:s.value.refetch})})};e=Array.isArray(e)?e:[e];let a=!1;for(const d of e)d.subscribe(()=>{Qe||(a?o():He(s,()=>{const u=setTimeout(()=>{a||(o(),a=!0)},0);return()=>{s.off(),d.off(),clearTimeout(u)}}))});return s},Xe={proto:/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,constructor:/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,protoShort:/"__proto__"\s*:/,constructorShort:/"constructor"\s*:/},Ye=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/,Z={true:!0,false:!1,null:null,undefined:void 0,nan:Number.NaN,infinity:Number.POSITIVE_INFINITY,"-infinity":Number.NEGATIVE_INFINITY},Ze=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,7}))?(?:Z|([+-])(\d{2}):(\d{2}))$/;function Ke(e){return e instanceof Date&&!isNaN(e.getTime())}function et(e){const t=Ze.exec(e);if(!t)return null;const[,r,n,s,o,a,d,u,i,l,f]=t;let h=new Date(Date.UTC(parseInt(r,10),parseInt(n,10)-1,parseInt(s,10),parseInt(o,10),parseInt(a,10),parseInt(d,10),u?parseInt(u.padEnd(3,"0"),10):0));if(i){const S=(parseInt(l,10)*60+parseInt(f,10))*(i==="+"?-1:1);h.setUTCMinutes(h.getUTCMinutes()+S)}return Ke(h)?h:null}function tt(e,t={}){const{strict:r=!1,warnings:n=!1,reviver:s,parseDates:o=!0}=t;if(typeof e!="string")return e;const a=e.trim();if(a.length>0&&a[0]==='"'&&a.endsWith('"')&&!a.slice(1,-1).includes('"'))return a.slice(1,-1);const d=a.toLowerCase();if(d.length<=9&&d in Z)return Z[d];if(!Ye.test(a)){if(r)throw new SyntaxError("[better-json] Invalid JSON");return e}if(Object.entries(Xe).some(([i,l])=>{const f=l.test(a);return f&&n&&console.warn(`[better-json] Detected potential prototype pollution attempt using ${i} pattern`),f})&&r)throw new Error("[better-json] Potential prototype pollution attempt detected");try{return JSON.parse(a,(l,f)=>{if(l==="__proto__"||l==="constructor"&&f&&typeof f=="object"&&"prototype"in f){n&&console.warn(`[better-json] Dropping "${l}" key to prevent prototype pollution`);return}if(o&&typeof f=="string"){const h=et(f);if(h)return h}return s?s(l,f):f})}catch(i){if(r)throw i;return e}}function rt(e,t={strict:!0}){return tt(e,t)}const nt={id:"redirect",name:"Redirect",hooks:{onSuccess(e){if(e.data?.url&&e.data?.redirect&&typeof window<"u"&&window.location&&window.location)try{window.location.href=e.data.url}catch{}}}};function st(e){const t=ie(!1);return{session:ze(t,"/get-session",e,{method:"GET"}),$sessionSignal:t}}const at=(e,t)=>{const r="credentials"in Request.prototype,n=Be(e?.baseURL,e?.basePath)??"/api/auth",s=e?.plugins?.flatMap(c=>c.fetchPlugins).filter(c=>c!==void 0)||[],o={id:"lifecycle-hooks",name:"lifecycle-hooks",hooks:{onSuccess:e?.fetchOptions?.onSuccess,onError:e?.fetchOptions?.onError,onRequest:e?.fetchOptions?.onRequest,onResponse:e?.fetchOptions?.onResponse}},{onSuccess:a,onError:d,onRequest:u,onResponse:i,...l}=e?.fetchOptions||{},f=Ce({baseURL:n,...r?{credentials:"include"}:{},method:"GET",jsonParser(c){return c?rt(c,{strict:!1}):null},customFetchImpl:fetch,...l,plugins:[o,...l.plugins||[],...e?.disableDefaultFetchPlugins?[]:[nt],...s]}),{$sessionSignal:h,session:S}=st(f),v=e?.plugins||[];let b={},y={$sessionSignal:h,session:S},j={"/sign-out":"POST","/revoke-sessions":"POST","/revoke-other-sessions":"POST","/delete-user":"POST"};const U=[{signal:"$sessionSignal",matcher(c){return c==="/sign-out"||c==="/update-user"||c.startsWith("/sign-in")||c.startsWith("/sign-up")||c==="/delete-user"||c==="/verify-email"}}];for(const c of v)c.getAtoms&&Object.assign(y,c.getAtoms?.(f)),c.pathMethods&&Object.assign(j,c.pathMethods),c.atomListeners&&U.push(...c.atomListeners);const T={notify:c=>{y[c].set(!y[c].get())},listen:(c,I)=>{y[c].subscribe(I)},atoms:y};for(const c of v)c.getActions&&Object.assign(b,c.getActions?.(f,T,e));return{get baseURL(){return n},pluginsActions:b,pluginsAtoms:y,pluginPathMethods:j,atomListeners:U,$fetch:f,$store:T}};function ot(e){return typeof e=="object"&&e!==null&&"get"in e&&typeof e.get=="function"&&"lc"in e&&typeof e.lc=="number"}function it(e,t,r){const n=t[e],{fetchOptions:s,query:o,...a}=r||{};return n||(s?.method?s.method:a&&Object.keys(a).length>0?"POST":"GET")}function lt(e,t,r,n,s){function o(a=[]){return new Proxy(function(){},{get(d,u){if(typeof u!="string"||u==="then"||u==="catch"||u==="finally")return;const i=[...a,u];let l=e;for(const f of i)if(l&&typeof l=="object"&&f in l)l=l[f];else{l=void 0;break}return typeof l=="function"||ot(l)?l:o(i)},apply:async(d,u,i)=>{const l="/"+a.map(U=>U.replace(/[A-Z]/g,T=>`-${T.toLowerCase()}`)).join("/"),f=i[0]||{},h=i[1]||{},{query:S,fetchOptions:v,...b}=f,y={...h,...v},j=it(l,r,f);return await t(l,{...y,body:j==="GET"?void 0:{...b,...y?.body||{}},query:S||y?.query,method:j,async onSuccess(U){await y?.onSuccess?.(U);const T=s?.find(m=>m.matcher(l));if(!T)return;const c=n[T.signal];if(!c)return;const I=c.get();setTimeout(()=>{c.set(!I)},10)}})}})}return o()}function ut(e,t={}){let r=P.useRef(e.get());const{keys:n,deps:s=[e,n]}=t;let o=P.useCallback(d=>{const u=i=>{r.current!==i&&(r.current=i,d())};return u(e.value),n?.length?Ge(e,n,u):e.listen(u)},s),a=()=>r.current;return P.useSyncExternalStore(o,a,a)}function ct(e){return`use${dt(e)}`}function dt(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ft(e){const{pluginPathMethods:t,pluginsActions:r,pluginsAtoms:n,$fetch:s,$store:o,atomListeners:a}=at(e);let d={};for(const[l,f]of Object.entries(n))d[ct(l)]=()=>ut(f);const u={...r,...d,$fetch:s,$store:o};return lt(u,s,t,n,a)}function K(e){if(typeof document>"u")return null;const t=document.cookie.split("; ").find(r=>r.startsWith(`${e}=`));return t?t.split("=")[1]:null}const ht=(e={})=>{const t=e.cookieName||"better-auth.last_used_login_method";return{id:"last-login-method-client",getActions(){return{getLastUsedLoginMethod:()=>K(t),clearLastUsedLoginMethod:()=>{typeof document<"u"&&(document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`)},isLastUsedLoginMethod:r=>K(t)===r}}}},pt=void 0,ee=ft({baseURL:pt,plugins:[ht()]});var mt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gt=mt.reduce((e,t)=>{const r=he(`Primitive.${t}`),n=P.forwardRef((s,o)=>{const{asChild:a,...d}=s,u=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(u,{...d,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),yt="Label",le=P.forwardRef((e,t)=>p.jsx(gt.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));le.displayName=yt;var vt=le;function bt({className:e,...t}){return p.jsx(vt,{"data-slot":"label",className:N("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function wt({className:e,...t}){return p.jsx("fieldset",{"data-slot":"field-set",className:N("flex flex-col gap-6","has-[>[data-slot=checkbox-group]]:gap-3 has-[>[data-slot=radio-group]]:gap-3",e),...t})}function xt({className:e,variant:t="legend",...r}){return p.jsx("legend",{"data-slot":"field-legend","data-variant":t,className:N("mb-3 font-medium","data-[variant=legend]:text-base","data-[variant=label]:text-sm",e),...r})}function _t({className:e,...t}){return p.jsx("div",{"data-slot":"field-group",className:N("group/field-group @container/field-group flex w-full flex-col gap-7 data-[slot=checkbox-group]:gap-3 [&>[data-slot=field-group]]:gap-4",e),...t})}const St=pe("group/field flex w-full gap-3 data-[invalid=true]:text-destructive",{variants:{orientation:{vertical:["flex-col [&>*]:w-full [&>.sr-only]:w-auto"],horizontal:["flex-row items-center","[&>[data-slot=field-label]]:flex-auto","has-[>[data-slot=field-content]]:items-start has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"],responsive:["flex-col [&>*]:w-full [&>.sr-only]:w-auto @md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto","@md/field-group:[&>[data-slot=field-label]]:flex-auto","@md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"]}},defaultVariants:{orientation:"vertical"}});function te({className:e,orientation:t="vertical",...r}){return p.jsx("div",{role:"group","data-slot":"field","data-orientation":t,className:N(St({orientation:t}),e),...r})}function re({className:e,...t}){return p.jsx(bt,{"data-slot":"field-label",className:N("group/field-label peer/field-label flex w-fit gap-2 leading-snug group-data-[disabled=true]/field:opacity-50","has-[>[data-slot=field]]:w-full has-[>[data-slot=field]]:flex-col has-[>[data-slot=field]]:rounded-md has-[>[data-slot=field]]:border [&>*]:data-[slot=field]:p-4","has-data-[state=checked]:bg-primary/5 has-data-[state=checked]:border-primary dark:has-data-[state=checked]:bg-primary/10",e),...t})}function Rt({className:e,...t}){return p.jsx("p",{"data-slot":"field-description",className:N("text-muted-foreground text-sm leading-normal font-normal group-has-[[data-orientation=horizontal]]/field:text-balance","last:mt-0 nth-last-2:-mt-1 [[data-variant=legend]+&]:-mt-1.5","[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4",e),...t})}function Pt({className:e,children:t,errors:r,...n}){const s=P.useMemo(()=>{if(t)return t;if(!r?.length)return null;const o=[...new Map(r.map(a=>[a?.message,a])).values()];return o?.length==1?o[0]?.message:p.jsx("ul",{className:"ml-4 flex list-disc flex-col gap-1",children:o.map((a,d)=>a?.message&&p.jsx("li",{children:a.message},d))})},[t,r]);return s?p.jsx("div",{role:"alert","data-slot":"field-error",className:N("text-destructive text-sm font-normal",e),...n,children:s}):null}function ne({className:e,type:t,...r}){return p.jsx("input",{type:t,"data-slot":"input",className:N("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}function Ut(){const e=fe(),[t,r]=P.useState(""),[n,s]=P.useState(""),[o,a]=P.useState(null),[d,u]=P.useState(!1),i="auth-email",l="auth-password";async function f(h){h.preventDefault(),a(null);const{data:S,error:v}=await ee.signIn.email({email:t,password:n,callbackURL:"/"},{onRequest:()=>{u(!0)},onSuccess:async b=>{if(await ee.getSession(),b.redirect&&b.url){window.location.assign(b.url);return}await e({to:"/",replace:!0})},onError:b=>{a(b.error?.message??"Sign-in failed. Please try again.")}});v&&a(v.message??"Sign-in failed. Please try again."),u(!1)}return p.jsx("form",{onSubmit:f,className:"mx-auto mt-10 max-w-sm space-y-6",noValidate:!0,children:p.jsxs(wt,{children:[p.jsx(xt,{className:"text-xl font-semibold",children:"Sign in"}),p.jsx(Rt,{children:"Access your account with email and password."}),p.jsxs(_t,{className:"space-y-4",children:[p.jsxs(te,{children:[p.jsx(re,{htmlFor:i,children:"Email"}),p.jsx(ne,{id:i,type:"email",placeholder:"you@example.com",autoComplete:"email",value:t,onChange:h=>r(h.target.value),required:!0,disabled:d,"aria-invalid":o?!0:void 0})]}),p.jsxs(te,{children:[p.jsx(re,{htmlFor:l,children:"Password"}),p.jsx(ne,{id:l,type:"password",placeholder:"••••••••",autoComplete:"current-password",value:n,onChange:h=>s(h.target.value),required:!0,disabled:d,"aria-invalid":o?!0:void 0}),o&&p.jsx(Pt,{children:o})]})]}),p.jsx(me,{type:"submit",disabled:d,className:"mt-2 w-full",children:d?"Signing in…":"Sign In"})]})})}export{Ut as component};
