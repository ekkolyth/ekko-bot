import{c as x,S as V,p as A,r as d,s as E,a as R,n as O,i as T,b as D,t as W,d as N,f as K,e as J,g as L,h as q,j as m,k as G,u as Z,l as i}from"./main-BY6zBPaV.js";import{B as X}from"./button-Dd4QEbrQ.js";import"./clsx-B-dksMZM.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],ee=x("music",Y);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],se=x("route",te);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],ie=x("server",re);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ne=x("shield",ae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ce=x("sparkles",oe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],he=x("waves",le);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],de=x("zap",ue);var pe=class extends V{constructor(e,t){super(),this.options=t,this.#s=e,this.#i=null,this.#r=A(),this.bindMethods(),this.setOptions(t)}#s;#e=void 0;#f=void 0;#t=void 0;#n;#h;#r;#i;#m;#u;#d;#o;#c;#a;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),z(this.#e,this.options)?this.#l():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return I(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return I(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#R(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,s=this.#e;if(this.options=this.#s.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof d(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#e.setOptions(this.options),t._defaulted&&!E(this.options,t)&&this.#s.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&B(this.#e,s,this.options,t)&&this.#l(),this.updateResult(),r&&(this.#e!==s||d(this.options.enabled,this.#e)!==d(t.enabled,this.#e)||R(this.options.staleTime,this.#e)!==R(t.staleTime,this.#e))&&this.#y();const a=this.#x();r&&(this.#e!==s||d(this.options.enabled,this.#e)!==d(t.enabled,this.#e)||a!==this.#a)&&this.#g(a)}getOptimisticResult(e){const t=this.#s.getQueryCache().build(this.#s,e),s=this.createResult(t,e);return me(this,s)&&(this.#t=s,this.#h=this.options,this.#n=this.#e.state),s}getCurrentResult(){return this.#t}trackResult(e,t){return new Proxy(e,{get:(s,r)=>(this.trackProp(r),t?.(r),r==="promise"&&!this.options.experimental_prefetchInRender&&this.#r.status==="pending"&&this.#r.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#s.defaultQueryOptions(e),s=this.#s.getQueryCache().build(this.#s,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#l({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#t))}#l(e){this.#w();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(O)),t}#y(){this.#v();const e=R(this.options.staleTime,this.#e);if(T||this.#t.isStale||!D(e))return;const s=W(this.#t.dataUpdatedAt,e)+1;this.#o=N.setTimeout(()=>{this.#t.isStale||this.updateResult()},s)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#g(e){this.#R(),this.#a=e,!(T||d(this.options.enabled,this.#e)===!1||!D(this.#a)||this.#a===0)&&(this.#c=N.setInterval(()=>{(this.options.refetchIntervalInBackground||K.isFocused())&&this.#l()},this.#a))}#b(){this.#y(),this.#g(this.#x())}#v(){this.#o&&(N.clearTimeout(this.#o),this.#o=void 0)}#R(){this.#c&&(N.clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const s=this.#e,r=this.options,a=this.#t,o=this.#n,n=this.#h,l=e!==s?e.state:this.#f,{state:p}=e;let c={...p},v=!1,h;if(t._optimisticResults){const u=this.hasListeners(),w=!u&&z(e,t),b=u&&B(e,s,t,r);(w||b)&&(c={...c,...J(p.data,e.options)}),t._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:M,errorUpdatedAt:P,status:y}=c;h=c.data;let Q=!1;if(t.placeholderData!==void 0&&h===void 0&&y==="pending"){let u;a?.isPlaceholderData&&t.placeholderData===n?.placeholderData?(u=a.data,Q=!0):u=typeof t.placeholderData=="function"?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,u!==void 0&&(y="success",h=L(a?.data,u,t),v=!0)}if(t.select&&h!==void 0&&!Q)if(a&&h===o?.data&&t.select===this.#m)h=this.#u;else try{this.#m=t.select,h=t.select(h),h=L(a?.data,h,t),this.#u=h,this.#i=null}catch(u){this.#i=u}this.#i&&(M=this.#i,h=this.#u,P=Date.now(),y="error");const C=c.fetchStatus==="fetching",k=y==="pending",j=y==="error",F=k&&C,U=h!==void 0,f={status:y,fetchStatus:c.fetchStatus,isPending:k,isSuccess:y==="success",isError:j,isInitialLoading:F,isLoading:F,data:h,dataUpdatedAt:c.dataUpdatedAt,error:M,errorUpdatedAt:P,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>l.dataUpdateCount||c.errorUpdateCount>l.errorUpdateCount,isFetching:C,isRefetching:C&&!k,isLoadingError:j&&!U,isPaused:c.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:j&&U,isStale:_(e,t),refetch:this.refetch,promise:this.#r,isEnabled:d(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const u=S=>{f.status==="error"?S.reject(f.error):f.data!==void 0&&S.resolve(f.data)},w=()=>{const S=this.#r=f.promise=A();u(S)},b=this.#r;switch(b.status){case"pending":e.queryHash===s.queryHash&&u(b);break;case"fulfilled":(f.status==="error"||f.data!==b.value)&&w();break;case"rejected":(f.status!=="error"||f.error!==b.reason)&&w();break}}return f}updateResult(){const e=this.#t,t=this.createResult(this.#e,this.options);if(this.#n=this.#e.state,this.#h=this.options,this.#n.data!==void 0&&(this.#d=this.#e),E(t,e))return;this.#t=t;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#p.size)return!0;const o=new Set(a??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#t).some(n=>{const g=n;return this.#t[g]!==e[g]&&o.has(g)})};this.#S({listeners:s()})}#w(){const e=this.#s.getQueryCache().build(this.#s,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#f=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(e){q.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#t)}),this.#s.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function fe(e,t){return d(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function z(e,t){return fe(e,t)||e.state.data!==void 0&&I(e,t,t.refetchOnMount)}function I(e,t,s){if(d(t.enabled,e)!==!1&&R(t.staleTime,e)!=="static"){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&_(e,t)}return!1}function B(e,t,s,r){return(e!==t||d(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&_(e,s)}function _(e,t){return d(t.enabled,e)!==!1&&e.isStaleByTime(R(t.staleTime,e))}function me(e,t){return!E(e.getCurrentResult(),t)}var $=m.createContext(!1),ye=()=>m.useContext($);$.Provider;function xe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ge=m.createContext(xe()),be=()=>m.useContext(ge),ve=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Re=e=>{m.useEffect(()=>{e.clearReset()},[e])},we=({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(a&&e.data===void 0||G(s,[e.error,r])),Se=e=>{if(e.suspense){const s=a=>a==="static"?a:Math.max(a??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...a)=>s(r(...a)):s(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Ne=(e,t)=>e.isLoading&&e.isFetching&&!t,Ce=(e,t)=>e?.suspense&&t.isPending,H=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function ke(e,t,s){const r=ye(),a=be(),o=Z(),n=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(n),n._optimisticResults=r?"isRestoring":"optimistic",Se(n),ve(n,a),Re(a);const g=!o.getQueryCache().get(n.queryHash),[l]=m.useState(()=>new t(o,n)),p=l.getOptimisticResult(n),c=!r&&e.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(v=>{const h=c?l.subscribe(q.batchCalls(v)):O;return l.updateResult(),h},[l,c]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),m.useEffect(()=>{l.setOptions(n)},[n,l]),Ce(n,p))throw H(n,l,a);if(we({result:p,errorResetBoundary:a,throwOnError:n.throwOnError,query:o.getQueryCache().get(n.queryHash),suspense:n.suspense}))throw p.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(n,p),n.experimental_prefetchInRender&&!T&&Ne(p,r)&&(g?H(n,l,a):o.getQueryCache().get(n.queryHash)?.promise)?.catch(O).finally(()=>{l.updateResult()}),n.notifyOnChangeProps?p:l.trackResult(p)}function je(e,t){return ke(e,pe)}function _e(){const{data:e,isLoading:t,error:s,refetch:r}=je({queryKey:["healthz"],queryFn:async()=>{const o=await fetch("/api/healthz");if(!o.ok)throw new Error("Failed to fetch");return o.json()},enabled:!1}),a=[{icon:i.jsx(de,{className:"w-12 h-12 text-cyan-400"}),title:"Powerful Server Functions",description:"Write server-side code that seamlessly integrates with your client components. Type-safe, secure, and simple."},{icon:i.jsx(ie,{className:"w-12 h-12 text-cyan-400"}),title:"Flexible Server Side Rendering",description:"Full-document SSR, streaming, and progressive enhancement out of the box. Control exactly what renders where."},{icon:i.jsx(se,{className:"w-12 h-12 text-cyan-400"}),title:"API Routes",description:"Build type-safe API endpoints alongside your application. No separate backend needed."},{icon:i.jsx(ne,{className:"w-12 h-12 text-cyan-400"}),title:"Strongly Typed Everything",description:"End-to-end type safety from server to client. Catch errors before they reach production."},{icon:i.jsx(he,{className:"w-12 h-12 text-cyan-400"}),title:"Full Streaming Support",description:"Stream data from server to client progressively. Perfect for AI applications and real-time updates."},{icon:i.jsx(ce,{className:"w-12 h-12 text-cyan-400"}),title:"Next Generation Ready",description:"Built from the ground up for modern web applications. Deploy anywhere JavaScript runs."}];return i.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900",children:[i.jsxs("section",{className:"relative py-20 px-6 text-center overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-blue-500/10 to-purple-500/10"}),i.jsxs("div",{className:"relative max-w-5xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-center gap-6 mb-6",children:[i.jsx("img",{src:"/tanstack-circle-logo.png",alt:"TanStack Logo",className:"w-24 h-24 md:w-32 md:h-32"}),i.jsxs("h1",{className:"text-6xl md:text-7xl font-bold text-white",children:[i.jsx("span",{className:"text-gray-300",children:"TANSTACK"})," ",i.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"START"})]})]}),i.jsx("p",{className:"text-2xl md:text-3xl text-gray-300 mb-4 font-light",children:"The framework for next generation AI applications"}),i.jsx("p",{className:"text-lg text-gray-400 max-w-3xl mx-auto mb-8",children:"Full-stack framework powered by TanStack Router for React and Solid. Build modern applications with server functions, streaming, and type safety."}),i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsxs(X,{onClick:()=>r(),disabled:t,className:"px-8 py-3 bg-cyan-500 hover:bg-cyan-600 text-white font-semibold rounded-lg transition-colors shadow-lg shadow-cyan-500/50 disabled:opacity-50",children:[i.jsx(ee,{className:"w-4 h-4 mr-2"}),t?"Calling API...":"Test Music API"]}),e&&i.jsx("div",{className:"mt-4 p-4 bg-slate-800 rounded-lg max-w-2xl w-full",children:i.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:JSON.stringify(e,null,2)})}),s&&i.jsx("div",{className:"mt-4 p-4 bg-red-800 rounded-lg max-w-2xl w-full",children:i.jsxs("pre",{className:"text-sm text-red-300 whitespace-pre-wrap",children:["Error: ",s.message]})}),i.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Test the music API endpoint by clicking the button above"})]})]})]}),i.jsx("section",{className:"py-16 px-6 max-w-7xl mx-auto",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((o,n)=>i.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl p-6 hover:border-cyan-500/50 transition-all duration-300 hover:shadow-lg hover:shadow-cyan-500/10",children:[i.jsx("div",{className:"mb-4",children:o.icon}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:o.title}),i.jsx("p",{className:"text-gray-400 leading-relaxed",children:o.description})]},n))})})]})}export{_e as component};
